/**
 * @file dmpc_buck_matrices.h
 * @brief Header with data to run the DMPC algorithm for a buck converter.
 *
 * This file is generated automatically and should not be modified.
 *
 * The Hj matrix is already generated by flipping the sign and inverting its
 * diagonal elements, so that Hildreth's algorithm does not require any 
 * divisions.
 *
 *  Originally created on: 27.05.2021
 *      Author: mguerreiro
 */

#ifndef DMPC_BUCK_MATRICES_H_
#define DMPC_BUCK_MATRICES_H_

/* Prediction, control and restriction horizon */
#define DMPC_BUCK_CONFIG_NP			20
#define DMPC_BUCK_CONFIG_NC			8
#define DMPC_BUCK_CONFIG_NR			1
#define DMPC_BUCK_CONFIG_NLAMBDA	4

/* Constraints */
#define DMPC_BUCK_CONFIG_IL_MIN		-8
#define DMPC_BUCK_CONFIG_IL_MAX		8
#define DMPC_BUCK_CONFIG_U_MIN		0
#define DMPC_BUCK_CONFIG_U_MAX		1

 /* Matrices */
float Fj_1[8] = {-173.31095063,-156.74580491,-140.64928145,-125.11285021,-110.2261132 ,
  -96.07516628, -82.74088605, -70.2971644 };

float Fj_2[8][3] = {{336.16781564,874.59184052,173.31095063},
 {312.9396147 ,794.7101354 ,156.74580491},
 {288.59676109,714.57810339,140.64928145},
 {263.45318762,635.42913873,125.11285021},
 {237.84895887,558.38681807,110.2261132 },
 {212.14096768,484.45180801, 96.07516628},
 {186.69331405,414.49141257, 82.74088605},
 {161.86752414,349.23177606, 70.2971644 }};

float Fx[3] = { 0.95765346,-0.40792541, 0.        };

float Kj_1[4][8] = {{-2.79890609e-03, 9.84649776e-04, 7.80896362e-04, 5.94061198e-04,
   4.27519159e-04, 2.83612975e-04, 1.63591791e-04, 6.76402161e-05},
 { 2.79890609e-03,-9.84649776e-04,-7.80896362e-04,-5.94061198e-04,
  -4.27519159e-04,-2.83612975e-04,-1.63591791e-04,-6.76402161e-05},
 {-1.62381498e-02, 5.71254985e-03, 4.53045286e-03, 3.44650889e-03,
   2.48029763e-03, 1.64541068e-03, 9.49095086e-04, 3.92421870e-04},
 { 1.62381498e-02,-5.71254985e-03,-4.53045286e-03,-3.44650889e-03,
  -2.48029763e-03,-1.64541068e-03,-9.49095086e-04,-3.92421870e-04}};

float Hj[4][4] = {{-3.57282441e+02,-2.79890609e-03, 1.62381498e-02,-1.62381498e-02},
 {-2.79890609e-03,-3.57282441e+02,-1.62381498e-02, 1.62381498e-02},
 { 1.62381498e-02,-1.62381498e-02,-1.06148837e+01,-9.42073442e-02},
 {-1.62381498e-02, 1.62381498e-02,-9.42073442e-02,-1.06148837e+01}};

float DU_1[8] = {-2.79890609e-03, 9.84649776e-04, 7.80896362e-04, 5.94061198e-04,
  4.27519159e-04, 2.83612975e-04, 1.63591791e-04, 6.76402161e-05};

float DU_2[4] = { 0.00279891,-0.00279891, 0.01623815,-0.01623815};


#endif /* DMPC_BUCK_MATRICES_H_ */
