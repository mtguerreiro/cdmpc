/**
 * @file dmpc_buck_matrices.h
 * @brief Header with relevant data to run the DMPC algorithm for a buck converter.
 *
 * This file is generated automatically and should not be modified.
 *
 * The Hj matrix is already generated by flipping the sign and inverting
 * the elements of the diagonal, so that Hildreth's algorith, does not
 * require any divisions.
 *
 *  Originally created on: 27.05.2021
 *      Author: mguerreiro
 */

#ifndef DMPC_BUCK_MATRICES_H_
#define DMPC_BUCK_MATRICES_H_

/* Prediction, control and restriction horizon */
#define DMPC_BUCK_CONFIG_NP			20
#define DMPC_BUCK_CONFIG_NC			12
#define DMPC_BUCK_CONFIG_NR			1
#define DMPC_BUCK_CONFIG_NLAMBDA	4

/* Constraints */
#define DMPC_BUCK_CONFIG_IL_MIN		-15
#define DMPC_BUCK_CONFIG_IL_MAX		15
#define DMPC_BUCK_CONFIG_U_MIN		0
#define DMPC_BUCK_CONFIG_U_MAX		1

 /* Matrices */
float Fj_1[12] = {-14.02056523,-12.14412182,-10.4387494 , -8.89725297, -7.51225236,
  -6.27618846, -5.18132971, -4.21977874, -3.38347925, -2.66422299,
  -2.05365694, -1.54329074};

float Fj_2[12][3] = {{ 16.52923344,194.77209737, 14.02056523},
 { 14.66375189,171.39413387, 12.14412182},
 { 12.91045702,149.61708143, 10.4387494 },
 { 11.27134619,129.4587171 ,  8.89725297},
 {  9.74810514,110.92596186,  7.51225236},
 {  8.34202163, 94.01489477,  6.27618846},
 {  7.05389964, 78.71078604,  5.18132971},
 {  5.88397443, 64.98814906,  4.21977874},
 {  4.83182857, 52.8108111 ,  3.38347925},
 {  3.89630907, 42.13200288,  2.66422299},
 {  3.07544575, 32.89446651,  2.05365694},
 {  2.36637113, 25.03058201,  1.54329074}};

float Fx[3] = { 0.99952615,-0.10614239, 0.        };

float Kj_1[4][12] = {{-0.05263247, 0.01231051, 0.01070699, 0.00922531, 0.00786652, 0.0066308 ,
   0.00551738, 0.00452442, 0.00364906, 0.00288732, 0.00223424, 0.00168383},
 { 0.05263247,-0.01231051,-0.01070699,-0.00922531,-0.00786652,-0.0066308 ,
  -0.00551738,-0.00452442,-0.00364906,-0.00288732,-0.00223424,-0.00168383},
 {-0.05597873, 0.01309319, 0.01138771, 0.00981184, 0.00836666, 0.00705238,
   0.00586816, 0.00481208, 0.00388105, 0.00307089, 0.00237628, 0.00179089},
 { 0.05597873,-0.01309319,-0.01138771,-0.00981184,-0.00836666,-0.00705238,
  -0.00586816,-0.00481208,-0.00388105,-0.00307089,-0.00237628,-0.00179089}};

float Hj[4][4] = {{-18.99967724, -0.05263247,  0.05597873, -0.05597873},
 { -0.05263247,-18.99967724, -0.05597873,  0.05597873},
 {  0.05597873, -0.05597873,-16.79607269, -0.05953773},
 { -0.05597873,  0.05597873, -0.05953773,-16.79607269}};

float DU_1[12] = {-0.05263247, 0.01231051, 0.01070699, 0.00922531, 0.00786652, 0.0066308 ,
  0.00551738, 0.00452442, 0.00364906, 0.00288732, 0.00223424, 0.00168383};

float DU_2[4] = { 0.05263247,-0.05263247, 0.05597873,-0.05597873};


#endif /* DMPC_BUCK_MATRICES_H_ */
